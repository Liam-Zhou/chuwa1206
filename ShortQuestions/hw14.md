# hw14: hw50-microservice

### Question 3: Resilience Patterns and Circuit Breaker
**Question:** What are Resilience patterns? What is circuit breaker?


- **Resilience Patterns:** Strategies ensuring system functionality and responsiveness despite failures or high load.
- **Circuit Breaker:** A pattern that prevents failure cascade. It has three states:
  - **Closed:** Service operates normally; calls pass through.
  - **Open:** Service is unresponsive; calls fail immediately to allow recovery.
  - **Half-Open:** Limited number of calls pass through to test if the service has recovered.

### Question 4: Important Questions and Answers from the Article
**Question:** Read the provided article and list the important questions then write your answers. [InterviewBit](https://www.interviewbit.com/microservices-interview-questions/#main-features-of-microservices).

1. **Containers, Clustering, and Orchestration**
   - **Q:** Role of Containers and Orchestration?
   - **A:** They encapsulate and manage microservices, ensuring consistency and scalability.

2. **IaC (Infrastructure as Code)**
   - **Q:** Benefits of IaC in microservices?
   - **A:** Automates infrastructure provisioning, ensuring fast, repeatable setups.

3. **Cloud Infrastructure**
   - **Q:** Importance of Cloud Infrastructure?
   - **A:** Provides scalable, flexible hosting, allowing independent deployment and scaling of microservices.

4. **API Gateway**
   - **Q:** Function of an API Gateway?
   - **A:** Serves as a single entry point, routing requests to microservices and handling concerns like authentication.

5. **Enterprise Service Bus (ESB)**
   - **Q:** Integration of ESB with microservices?
   - **A:** Facilitates communication between microservices, ensuring loose coupling and seamless interaction.

6. **Service Delivery**
   - **Q:** Significance of Service Delivery?
   - **A:** Ensures efficient, reliable deployment of microservices with continuous integration and delivery pipelines.

### Question 5: Load Balancing in Microservice
**Question:** How to do load balance in microservice?

- **Strategies:** Implement DNS load balancing, round-robin, or least connections for even traffic distribution.
- **Dedicated Load Balancers:** Utilize advanced appliances or software that monitor server health, manage traffic based on current load, and ensure seamless service during scaling operations or failures.

### Question 6: Service Discovery
**Question:** How to do service discovery?

- **Service Registry:** Services register their location and metadata. It acts as a phone directory for services.
- **Discovery Mechanism:** Services query the registry to find and communicate with other services, enabling dynamic scaling and deployment by ensuring services can locate each other.

### Question 7: Kafka Interview Questions
**Question:** Prepare your own answers for each question listed in the provided Kafka interview questions link.

#### Kafka Interview Questions for Freshers
**1. Features of Kafka:**
- High throughput, low latency
- Scalability
- Fault tolerance
- Durability
- Replication

**2. Traditional Methods vs Kafka:**
- Traditional methods often involve point-to-point connections leading to complex network topologies and potential bottlenecks. Kafka provides a simplified, high-throughput, durable message storage system.

**3. Major Components of Kafka:**
- Producer
- Consumer
- Broker
- Zookeeper

**4. Four Core API Architecture:**
- Producer API
- Consumer API
- Streams API
- Connector API

**5. Partition in Kafka:**
- Logical division of topics to parallelize data processing.

**6. Zookeeper in Kafka:**
- Manages and coordinates Kafka brokers. It's used for leader election, configuration management, and cluster membership.

**7. Kafka without Zookeeper:**
- Not recommended as Zookeeper is essential for broker coordination and leader election.

**8. Leader and Follower in Kafka:**
- Leader handles all read and write requests for the partition. Followers replicate the leader's data.

**9. Topic Replication & ISR:**
- Ensures data safety and availability. ISR (In-Sync Replicas) are replicas that are up-to-date with the leader.

**10. Consumer Group in Kafka:**
- Group of consumers acting as a single logical subscriber, ensuring efficient data processing and load balancing.

**11. Maximum Message Size:**
- Configurable, typically defaults to 1MB.

**12. Not an In-Sync Replica:**
- Indicates potential data loss or availability issues.

**13. Starting a Kafka Server:**
- Use Kafka's start-up scripts with appropriate configurations.

**14. Geo-Replication in Kafka:**
- Syncing data across geographically distributed Kafka clusters for disaster recovery and high availability.

**15. Disadvantages of Kafka:**
- Complexity in setup and management, potential data loss if not configured correctly.

**16. Real-world Usages of Kafka:**
- Real-time analytics, logging, stream processing, event sourcing.

**17. Kafka Monitoring Use Cases:**
- Monitoring performance, throughput, and ensuring system health.

**18. Kafka Schema Registry:**
- Centralized service for managing schemas and compatibility between Kafka producers and consumers.

**19. Benefits of Using Clusters in Kafka:**
- High availability, scalability, and fault tolerance.

**20. Partitioning Key in Kafka:**
- Determines how data is distributed among partitions.

**21. Purpose of Partitions in Kafka:**
- Enables parallel processing and data organization within a topic.

#### Kafka Interview Questions for Experienced
**1. Multi-Tenancy in Kafka:**
- Kafka's ability to support multiple applications on a single cluster, isolating their data and configurations.

**2. Replication Tools in Kafka:**
- Tools like MirrorMaker replicate data between Kafka clusters. Essential for disaster recovery and high availability.

**3. Rabbitmq vs Kafka:**
- RabbitMQ is traditional message broker, suitable for complex routing and queuing. Kafka is designed for high-throughput, durable message storage and processing.

**4. Optimizing Kafka for Performance:**
- Monitor key metrics, adjust partition and replica settings, optimize batch sizes and buffer memory.

**5. Redis vs Kafka:**
- Redis is an in-memory key-value store, great for caching and real-time data processing. Kafka is a distributed streaming platform, ideal for high-throughput data storage and stream processing.

**6. Kafka Security:**
- Supports encryption, authentication, and authorization for secure data handling.

**7. Kafka vs JMS:**
- JMS (Java Message Service) is a messaging standard with various implementations. Kafka provides higher throughput, durability, and is better suited for big data processing.

**8. Kafka MirrorMaker:**
- Tool for replicating data between Kafka clusters.

**9. Kafka vs Flume:**
- Flume is a data collection and aggregation tool, primarily for log data. Kafka is a more general-purpose, distributed streaming platform.

**10. Confluent Kafka:**
- Enterprise platform that extends Kafka's capabilities, providing additional tools and services.

**11. Message Compression in Kafka:**
- Reduces the size of the messages, improving performance. However, can increase CPU usage.

**12. Kafka Unsuitable Use Cases:**
- Not ideal for low latency message delivery or traditional request-response patterns.

**13. Log Compaction and Quotas in Kafka:**
- Log compaction ensures the retention of at least the last known value for each key. Quotas manage resource utilization.

**14. Guarantees Provided by Kafka:**
- At-least-once, at-most-once, or exactly-once delivery semantics.

**15. Unbalanced Cluster in Kafka:**
- An unbalanced cluster in Kafka occurs when there's an uneven distribution of partitions or workload across the cluster's brokers, leading to performance and reliability issues. To balance the cluster, you can redistribute the partitions more evenly among the brokers. This redistribution can be achieved using Kafka's partition reassignment tool, which helps in optimizing the cluster's performance and ensuring a fair workload distribution across all brokers.

**16. Expanding a Cluster in Kafka:**
- Add new brokers and rebalance partitions to include the new brokers.

**17. Graceful Shutdown in Kafka:**
- Safely stopping Kafka brokers, ensuring no data loss or interruption in service.

**18. Changing Number of Partitions:**
- Can be increased but not decreased for a topic.

**19. BufferExhaustedException & OutOfMemoryException:**
- Indicate issues with memory or message sizes exceeding predefined limits.

**20. Changing Retention Time at Runtime:**
- Modify topic configurations or use Kafka's topic command line tools.

**21. Kafka Streams vs Spark Streaming:**
- Kafka Streams is a lightweight library for Kafka-centric stream processing, while Spark Streaming is a general-purpose stream processing framework with wider capabilities.

**22. Znodes in Kafka Zookeeper:**
- Znodes are data nodes in ZooKeeper's hierarchical namespace. Types include Persistent, Ephemeral, and Sequential.
