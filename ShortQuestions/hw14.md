## HW14

#### Document the microservice architeture and components/tools/dependencies
Microservice is an approach that implement a large program with multiple loosely coupled, independent services. Each service is sorganized around a specific business capabilityand can be developed, deployed, and scaled independently. Microservices communicate with each other API calls, often using lightweight protocols like HTTP or messaging queues.

Component:
`API Gateway`: route the API calls to the target service, can used for authentication and logging web requests & responses 
e.g. Netflix Zuul, Spring Cloud Gateway
`Service Registry/Discovery`: manage the services, allowing services to be aware of each others
e.g. Netflix Eureka
`Config center`
`Load balancer`: distribute the traffic accross servers
e.g. Nginx
`Event driven message queue`: transfer data among services
e.g. Kafka, RabbitMQ

####  What are Resilience patterns? What is circuit breaker?
Resilience patterns are design patterns that help systems tolerate and recover from failures. 
A circuit breaker is a resilience pattern that prevents a service from continuously trying to execute an operation that is likely to fail. It monitors the response from a service and opens the circuit when the failure rate exceeds a certain threshold, redirecting requests to a fallback mechanism.

####  Read this article, then list the important questions, then write your answers 
a. https://www.interviewbit.com/microservices-interview-questions/#mai
n-features-of-microservices

#### Pros and Cons of Microservices
**Pros**: 
`Scalability:` microservices can be scaled independently 
`Technology Freedom:` free to use different tech stacks in different microservices
`Easy to depoly and update`: since the microservices are decoupled, it allows individual microservices to be updated and deployed without concerning about the dependencies

**Cons**:
`Complexity`: it brings in the complexity of the system
`Data management`: handling data consistency across servers can be complex

####  how to do load balance in microservice? Write a long Summary by yourself.
a. https://www.geeksforgeeks.org/load-balancer-system-design-interview
-question/
b. https://www.fullstack.cafe/blog/load-balancing-interview-questions

Load balancing is a technique in distributing workload across multiple servers or clusters, so as to prevent problems of overloaded servers and single point of failure. The tools for load balancing include Nginx, Spring Cloud and Kubernetes also have mechanism for load balancing. It is usually placed between the users and services. Then we need to specify an algorithm for the load balancing, this includes Round Robin - which is to distribute the load to the servers in turns and evenlly. Weight-round robin - distribute based on the weights assigned to each servers, for example, the capability of the server. Sticky session load balancing - it would route all requests sent by a common user to a common server, which is suitable in the scenario that the users requests are stateful with a sessionId. In this case, the sessions store in a server does not necessarily share across the entire cluster.

####  How to do service discovery?
Service discovery is the process by which client applications can dynamically discover and locate available instances of a particular service within a distributed system. 
Here are the steps involved in implementing service discovery:

`Register Services`: Each service instance needs to register itself with a service registry when it starts up. The registration typically includes metadata such as service name, hostname, IP address, port, and health status.

`Service Registry`: Maintain a centralized service registry or directory where service instances can register themselves and update their status periodically. Examples of service registries include Consul, etcd, ZooKeeper, and Netflix Eureka.

`Discovery Client`: Client applications (consumers) need to interact with the service registry to discover available instances of a particular service. This can be achieved using a client library or framework provided by the service registry.

`Querying Service Registry`: Clients can query the service registry using its API or client library to retrieve a list of available service instances based on criteria such as service name, version, tags, or metadata.

#### prepare your own answers for each questions  https://www.interviewbit.com/kaf
ka-interview-questions/#purpose-of-partitions-in-kafka
a. Kafka Interview Questions for Freshers
b. Kafka Interview Questions for Experienced
c.  MCQ on Kafka
 