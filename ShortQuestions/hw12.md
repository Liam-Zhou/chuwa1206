# HW12 AOP & Batch & Swagger

## What is the Aspect Oriented Programming?

AOP allows separation of cross-cutting concerns by additional behavior to existing code (an advice) without modifying the code itself, instead separately specifying which code is modified via a "pointcut" specification. This allows for behaviors that cut across the typical divisions of responsibility, such as logging, error handling, or security,



## What are the advantages and disadvantages of Spring AOP?

pros: modularity, code resuability

cons: complicated stack traces and the flow of execution, sacrafice a little run time.



## What is Aspect in Spring AOP?

An aspect is a module that encapsulates cross-cutting concerns, which are concerns that affect multiple parts of an application but are separate from the core business logic. 



## What is Pointcut in Spring AOP?

A pointcut is an expression that specifies a set of join points where advice should be applied.

``` java
@Pointcut("execution(* com.example.service.*.*(..))")
public void serviceMethods() {
    // 这是一个切入点方法，定义了切入点表达式
}

@Before("serviceMethods()")
public void beforeServiceMethods() {
    // 在匹配到切入点时执行的前置通知
}

```



## What is the Join point in Spring AOP?

joinpoint is the a point during execution, where advice are going to run.

``` java
@Around("ApplicationpackagePointcut()")
public Object logAround(ProceedingJoinPoint joinPoint) throws Throwable{
    ...
}
```



## What does it mean by Advice and its types in Spring AOP?

"advice" refers to the additional code that you want to run at specific join points in your application

- before advice
- after returning advice
- after throwing advice
- after advice
- around advice



## When to use Spring Batch?

handle large volumes of data or perform complex, repetitive tasks such as data ETL (Extract, Transform, Load), data import/export, shceduled jobs like daily report generation, and more. 



## How Spring Batch works?

First define a job, which is composed of multiple steps. And each step contains item reader, item processor and iterm writer.



## How can we schedule a Spring Batch Job?

Use cron job



## What is the cron expression?

second, minute, hour, day of month, month, day(s) of week

`"0 0 8 * * *"`: Runs every day at 8:00 AM



## What is the spring task?

scheduled task



## When to use Spring task?

Spring Task Execution is typically used when you need to schedule and execute tasks or jobs at specific intervals or times within a Spring application.



## What is Filter and any filter example?

In Java Spring, a filter is an integral part of the Java Servlet API and is used to intercept and manipulate incoming HTTP requests and outgoing responses.

``` java
public class MyFilter implements Filter {

    @Override
    public void init(FilterConfig filterConfig) throws ServletException {
        // Initialization code (optional)
    }

    @Override
    public void doFilter(
        ServletRequest request,
        ServletResponse response,
        FilterChain chain
    ) throws IOException, ServletException {
        // Filter logic before the request reaches the servlet
        
        // For example, you can log the request
        System.out.println("Request received: " + request.getRemoteAddr());
        
        // Continue the request chain
        chain.doFilter(request, response);
        
        // Filter logic after the servlet has processed the request
    }

    @Override
    public void destroy() {
        // Cleanup code (optional)
    }
}


// configure Myfilter in configuration class
@Configuration
public class FilterConfig {

    @Bean
    public FilterRegistrationBean<MyFilter> loggingFilter() {
        FilterRegistrationBean<MyFilter> registrationBean = new FilterRegistrationBean<>();
        registrationBean.setFilter(new MyFilter());
        registrationBean.addUrlPatterns("/example"); // URL patterns to apply the filter to
        return registrationBean;
    }
}
```





## What is the Interceptor? What we can do with interceptor?

perform pre-processing, post-processing, and afterCompletion tasks for HTTP requests and responses within your application





## In Interceptor, What is preHandle? What is postHandle?

The `preHandle` method is called before the actual controller method is executed.

The `postHandle` method is called after the controller method has been executed but before the view is rendered.



## What is Swagger?

Automatically generate API document