# hw11 (hw45)

1. List all of the annotations you learned from class and homework to annotaitons.md
   1. see annotion.md
2. What is the authentication?
   1. authentication is the process to authenticate(identify) the user is who they claim to be.
3. What is the authorization?
   1. authorization is to verify the role of the user(rbca) or ACls has right to perform the request.
4. What is the difference between authentication and authorization?
   1. authentication is about confirming identity, while authorization is about granting appropriate access based on that confirmed identity. 
5. What is HTTP Session?
   1. An HTTP session is a mechanism used to maintain stateful information about the interactions between a web server and a specific client across multiple requests. HTTP itself is a stateless protocol, meaning that each request from a client to a server is independent, and the server does not inherently retain information about previous requests. Sessions provide a way to overcome this statelessness by associating data with a particular user's session.
6. What is Cookie?
   1. cookies (also called web cookies, Internet cookies, browser cookies, or simply cookies) are small blocks of data created by a web server while a user is browsing a website and placed on the user's computer or other device by the user's web browser. Cookies are placed on the device used to access a website, and more than one cookie may be placed on a user's device during a session.
7. What is the difference between Session and Cookie?
   Here's a table highlighting the key differences between sessions and cookies:

    | Feature                 | Session                                     | Cookie                                       |
    |-------------------------|---------------------------------------------|----------------------------------------------|
    | **Storage Location**    | Stored on the server.                        | Stored on the client (user's device).        |
    | **Size Limitation**     | Typically larger in size.                   | Limited to a few kilobytes.                  |
    | **Persistence**         | Persists on the server-side.                 | Can be persistent (with expiration) or session-based (temporary). |
    | **Association**         | Associated with a user's session on the server. | Associated with a specific domain and path on the client. |
    | **Expiry**              | Typically expires after a period of inactivity or by explicit logout. | Can be session cookies (expire when the browser is closed) or persistent cookies (with a specified expiration date). |
    | **Visibility**          | Server-side visibility; client only holds a session identifier (usually a session ID). | Visible on the client side; accessible to both client-side scripts and the server. |
    | **Security Flags**      | N/A                                         | Can have flags like "Secure" (sent only over HTTPS) and "HttpOnly" (inaccessible to client-side scripts). |
    | **Usage**               | Used to maintain stateful information across multiple requests in a web application. | Used for storing small amounts of data locally, such as user preferences, tracking, and authentication tokens. |
    | **Management**          | Managed by the server-side framework or application. | Managed by the client-side scripts or server-side application. |
    | **Example (Java Servlet)** | ```HttpSession session = request.getSession();``` | ```response.addCookie(new Cookie("username", "john_doe"));``` |


8. How do we use session and cookie to keep user information across the the application?
   1. store user login status
   2. store the user preference
   3. store seesion id
9.  What is JWT?
    1.  JWT stands for JSON Web Token, it is often used for authentication. it has three parts. `header`, `payload`, `signature`. after the server get the jwt, it can use it owne scerte key to decifer the jwt. jwt can assure `CIA` in security.
10. What is the spring security filter?
    1.  Spring Security maintains a `filter chain` internally where each of the filters has a particular responsibility and filters are added or removed from the configuration depending on which services are required. The ordering of the filters is important as there are dependencies between them.
11. decribe how do JWT work(slides 里有图， 26页)
    1.  server create JWT
    2.  send JWT
    3.  user make request with JWT
    4.  server do verification of JWT
12. Do you use any Encoder to encode Password?
    1.  in spring security, we has `PasswordEncoder` interface. `PasswordEncoder passwordEncoder = new BCryptPasswordEncoder();`.

13. What is UserDetailService? AuthenticationProvider?AuthenticationManager? AuthenticationFilter?(把这几个名字看熟悉也行)
    - UserDetailService is an interface in Spring Security that is responsible for loading user-specific data during the authentication process. It typically retrieves user details (such as username, password, and authorities) from a data source, such as a database.
    - AuthenticationProvider is responsible for authenticating a user based on the provided Authentication object. It supports a specific type of authentication (e.g., username/password, token-based).
    - AuthenticationManager is responsible for orchestrating the authentication process.
    - UsernamePasswordAuthenticationFilter is a specific filter in the Spring Security filter chain that handles form-based authentication. It intercepts requests to the login endpoint, extracts username and password parameters, and creates an Authentication object.
14. What is the disadvantage of Session? how to overcome the disadvantage?
    1.  not easy to do scaling.
    2.  need more storage.
    3.  complexity of session management.
    **overcome**
    1. use JWT instead
    2. or use distributed caching. like Redis.
15. how to get value from application.properties?
    1.  use `@Value` annotation. `@Value("${xx.xx}")` above the variable.
16. What is the role of configure(HttpSecurity http) and  configure(AuthenticationManagerBuilder auth)?
    1.  `configure(HttpSecurity http)` method is responsible for configuring how security is applied at the HTTP level.
    2.  `configure(AuthenticationManagerBuilder auth)` method is responsible for configuring how users are authenticated. 
    
17. What is Spring security authentication and authorization?
    1.  spring security authentication and authorization handles confirming user identity and permissions within a Spring application.
18. Reading, 泛读一下即可，自己觉得是重点的，可以多看两眼。<https://www.interviewbit.com/spring-security-interview-questions/#is-security-a-cross-cutting-con>
    cern
    a. 1-12
    b. 17 - 30
