# HW11

## 1. What is the Authentication?

This is like proving who you are. Imagine you're trying to enter a private club. The security guard at the door asks for your ID. By showing your ID, you're proving ("authenticating") that you are indeed who you say you are. In the digital world, this is similar to entering your username and password to log into a website. The website checks the information to confirm your identity.

## 2. What is the Authorization?

Now, think about what you're allowed to do once you're inside the club. Maybe you can go to the main area but not to the VIP section. Authorization is about permissions. It's the process of deciding if you, now that your identity is confirmed, are allowed to access certain areas or information. In the digital world, after you log in (authentication), the website determines what you are allowed to see or do (authorization). For instance, a regular user might be able to view content, but only an administrator can delete it.

## 3. What is the Difference Between Authentication and Authorization?

- **Authentication** is about **identity**. It's like asking, "Who are you?" Imagine you're trying to log into your email account. The service needs to check if you're really you. So, it asks for your username and password. When you provide the correct details, it knows it's really you. This process is authentication.
- **Authorization**, on the other hand, is about **permissions**. It's like asking, "What are you allowed to do?" So, once your email service knows it's you (after you've logged in), it then decides what you can do. Can you read emails? Can you send them? Can you access the settings? This is what authorization determines.

## 4. What is HTTP Session?

Imagine visiting a café where the waiter gives you a number when you first arrive. Every time you order something, you tell them your number, so they remember what you've ordered before and where you're sitting. An HTTP session works similarly on the internet. It's a way for a website to remember information about your visit. Since the web is stateless (each request is separate and doesn't remember the previous ones), sessions provide a way to store information about your interactions with the site across multiple visits or pages.

## 5. What is Cookie?

A cookie is like a little reminder note. When you visit a website, it might give your browser a small piece of information to remember (like a sticky note). This note could have your preferences, login information, or anything else the site needs to remember about you. Next time you visit the site, your browser shows the note, and the site knows things like who you are, what your preferences are, and so on. This is especially useful for not having to log in every single time you visit a familiar site.

## 6. What is the Difference Between Session and Cookie?

- **Sessions** are stored on the server and are temporary. They remember your information while you're actively using the website. When you close your browser or log out, the session typically ends.
- **Cookies** are stored on your browser and can last longer. They help websites remember things about you for future visits, like your preferences or login details, even after you close the browser.

## 7. How Do We Use Session and Cookie to Keep User Information Across the Application?

1. **User Logs In**: When a user logs into an application, they provide their credentials (like username and password).
2. **Authentication**: The application checks these credentials. If they're correct, the user is authenticated.
3. **Create Session**: Once authenticated, the server creates a session. This session is stored on the server and is given a unique identifier (session ID).
4. **Store Session ID in Cookie**: The server sends this session ID back to the user's browser, where it's stored in a cookie. The browser will send this cookie back to the server with every request.
5. **User Interacts with the Application**: As the user navigates the application, the server receives the session ID with each request. The server uses this ID to look up the session data and knows who the user is and any other relevant information stored in the session.
6. **Maintaining State**: This process allows the application to maintain state - remembering who the user is and other details about their interaction - across various requests, even though HTTP is stateless.
7. **End of Session**: When the user logs out or after a period of inactivity, the session can be ended. The server deletes or invalidates the session ID.

## 8. What is JWT?

**JWT (JSON Web Token)** is like a secure pass that contains information in a compact form. Imagine you're at a music festival and you have a special pass around your neck. This pass has information about you, like your ticket level and your identity.

1. Structure

   : JWT is made up of three parts:

   - **Header**: Tells what type of token it is and the method used to keep it secure.
   - **Payload**: Contains information (like your user details).
   - **Signature**: A special seal that verifies the token is real and hasn't been tampered with.

2. **How It's Used**: When you log into a website, it gives you a JWT, just like getting a pass at a festival. Each time you request something from the website, you show your JWT, just like showing your pass to access different areas of the festival.

3. **Benefits**: JWTs are great because they don't need the website to remember them. They carry all the needed information with them, making things faster and more efficient, especially for big websites.

## 9. What is the Spring Security Filter?

**Spring Security Filter** is like a security guard for a website built with Spring (a Java framework). Imagine your website is a private club. The Spring Security Filter is like the bouncer at the door, checking each person (or request) that tries to enter.

- When a request comes to the website, the Spring Security Filter checks it in two main ways:
  - **Identity Check (Authentication)**: It's like the bouncer checking if your name is on the guest list. If you're not recognized (like if you haven't logged in), you can't go further.
  - **Permission Check (Authorization)**: Even if you're on the guest list, the bouncer checks what areas you're allowed to access. Maybe you can go to the main lounge but not the VIP area.
- **Multiple Checks (Filter Chain)**: Just like a club might have several security checks (like a guest list check, a ticket check, a bag check), the Spring Security Filter uses a series of checks (filters) to make sure everything about the request is okay.

## 10. Describe How Do JWT Work (Refer to Slide 26 for Illustration)

1. **Logging In**: Imagine you're logging into a website. You enter your username and password.
2. **Creating a JWT**: After you log in, the website creates a special code (JWT). This code has info about you and is like a VIP pass.
3. **Using the JWT**: Every time you ask the website to do something (like opening a page), your computer shows this VIP pass.
4. **Website Checks the JWT**: The website looks at the VIP pass to make sure it's really you and lets you do what you asked, like seeing a page.
5. **JWT Expires**: This VIP pass doesn't last forever. After a while, it expires, and you need to log in again to get a new one.

## 11. Do You Use Any Encoder to Encode Password?

1. **Why Encode Passwords?**: When users create accounts and choose passwords, these passwords should never be stored in their original form (plain text) in the database. If a hacker gains access to the database, they shouldn't be able to read the passwords directly.
2. **How Encoding Works**: Encoding (or hashing) a password transforms it into a different string of characters. For example, if your password is "mypassword123", the encoder might turn it into something like "5f4dcc3b5aa765d61d8327deb882cf99".
3. **One-Way Process**: This process is one-way – you can encode the password, but you can't decode it back to the original password. Each time a user logs in, the system encodes the entered password and compares it to the stored encoded password.
4. **Security**: Good encoding algorithms are designed to be secure. They make it extremely hard for anyone to guess the original password from the encoded version. They also add unique elements (like salt) to each password, so even if two users have the same password, their encoded versions will be different.
5. **Common Encoders**: In the world of web development, common password encoders include **bcrypt**, Argon2, and PBKDF2. These are widely regarded as secure choices.

## 12. What is UserDetailService? AuthenticationProvider? AuthenticationManager? AuthenticationFilter?

1. UserDetailsService

   :

   - This is like a user information retriever. In a web application, when a user tries to log in, the **`UserDetailsService`** is responsible for fetching the user's details (like username, password, and roles) from your database or another storage system. It then provides this information to Spring Security to handle the authentication process.

2. AuthenticationProvider

   :

   - Think of this as a custom checker for user credentials. It's a part of Spring Security where you can define how to check user credentials. For example, you might want to check username and password against a database, or you might have a different method like an OTP (One-Time Password). The **`AuthenticationProvider`** lets you customize this checking process.

3. AuthenticationManager

   :

   - This is the orchestrator of the authentication process. The **`AuthenticationManager`** in Spring Security is like a manager who decides which **`AuthenticationProvider`** to use to authenticate a user. It takes the authentication request (like a username and password), passes it to the appropriate **`AuthenticationProvider`**, and then handles the response (whether the authentication is successful or not).

4. AuthenticationFilter

   :

   - This acts as a gatekeeper for incoming requests. In a Spring Security context, an **`AuthenticationFilter`** checks incoming HTTP requests. It looks for credentials (like a username and password or a token) in the request. If it finds them, it tries to authenticate the request. This is the part of the security process that intercepts requests and initiates the authentication process.

In summary, in a typical authentication flow in a Spring Security setup:

- The **UserDetailsService** retrieves user data.
- The **AuthenticationProvider** checks the credentials.
- The **AuthenticationManager** coordinates the process.
- The **AuthenticationFilter** is the first point of contact for an incoming request, triggering the authentication steps.

## 13. What is the Disadvantage of Session? How to Overcome the Disadvantage?

**Disadvantages of Sessions**:

1. **Uses a Lot of Memory**: If lots of people are using the website, the server can get bogged down remembering everyone's session data.
2. **Hard to Manage in Multiple Servers**: When you have more than one server, it's tough to keep track of who is logged in where.
3. **Risk of Losing Data**: If the server crashes, you might lose session information, and people would have to log in again.

**How to Overcome These Disadvantages**:

1. **Store Session Data in a Database**: Instead of keeping all the data in the server's memory, you can store it in a database. This helps manage memory better.
2. **Use Stateless Authentication, Like JWT**: Instead of the server remembering session data, each user carries their info in a secure token (like a JWT). This way, the server doesn't need to remember everyone's session, and it works well even with multiple servers.
3. **Sticky Sessions in Load Balancers**: If you're using multiple servers, configure them so that each user sticks to the same server for all their requests. This can help, but it's not perfect.
4. **Replicate Sessions Across Servers**: Share session data between servers. If one server goes down, the others have the information, so users won't get logged out.

## 14. How to Get Value from application.properties?

**Using `@Value` Annotation**:

- **Add Property in `application.properties`**: First, ensure the property you want is defined in your **`application.properties`** file, like **`myapp.username=admin`**.
- **Use `@Value` in Your Class**: In your Spring component or service, use the **`@Value`** annotation to inject the property value. For example:

```java
@Component
public class MyService {
    @Value("${myapp.username}")
    private String username;
}
```

## 15. What is the Role of `configure(HttpSecurity http)` and `configure(AuthenticationManagerBuilder auth)`?

1. configure(HttpSecurity http)

   :

   - **What It Does**: Think of it like setting rules for a club's security. You decide who can come in, which rooms they can go to, and what they can do inside.

   - Examples

     :

     - You can set rules like "Anyone can enter the lobby (a public web page) but only members can enter the lounge (a protected part of your website)."
     - You can also set up how people sign in to your website (like using a username and password).

2. configure(AuthenticationManagerBuilder auth)

   :

   - **What It Does**: This is like setting up a system to check if someone is a member of the club. You decide how to check their ID and whether their membership (password) is valid.

   - Examples

     :

     - You can set up a list of members and their passwords right in your code (not recommended for real applications).
     - You can tell it to check a database for member information.

In summary, **`configure(HttpSecurity http)`** sets up the rules for accessing different parts of your website, while **`configure(AuthenticationManagerBuilder auth)`** sets up how to check if someone is who they say they are.

## 16. What is Spring Security Authentication and Authorization?

- **Identity Check (Authentication)**: It's like the bouncer checking if your name is on the guest list. If you're not recognized (like if you haven't logged in), you can't go further.
- **Permission Check (Authorization)**: Even if you're on the guest list, the bouncer checks what areas you're allowed to access. Maybe you can go to the main lounge but not the VIP area.