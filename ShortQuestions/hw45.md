### 2. What is the authentication?

> Authentication is the process of verifying the identity of a user, system, or entity.  Like verifiy if the username and password are matched when user logging in.

### 3. What is the authorization?

> Authorization is the process of determining and granting permissions or access rights to authenticated users, systems, or entities. 

### 4. What is the difference between authentication and authorization?

| AUTHENTICATION                                               | AUTHORIZATION                                                |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| In authentication process, the identity of users are checked for providing the access to the system | While in authorization process, person’s or user’s authorities are checked for accessing the resources |
| In authentication process, users or persons are verified     | While in this process, users or persons are validated        |
| It is done before the authorization process                  | While this process is done after the authentication process  |
| It needs usually user’s login details.                       | While it needs user’s privilege or security levels           |
| Authentication determines whether the person is user or not  | While it determines What permission do user have?            |
| Generally, transmit information through an ID Token          | Generally, transmit information through an Access Token      |
| Example : Employees in a company are required to authenticate through the network before accessing their company email | Example : After an employee successfully authenticates, the system determines what information the employees are allowed to acces |
|                                                              |                                                              |

### 5. What is HTTP Session?

>A session is a server-side storage mechanism used to maintain state across multiple requests from the same user. When a user logs into a web application or performs an action that requires state management, a session is created on the server. A unique session ID is generated and sent to the client as a cookie or sometimes as a part of the URL.
>
>Sessions are produced and managed by the web server or the web application running on the server. The server associates incoming requests with the correct session using the session ID received from the client.
>You cannot directly access session data from the browser, as it is stored on the server. However, you can find the session ID in the browser, either as a cookie or occasionally as a part of the URL, depending on how the web application implements session management.

### 6. What is Cookie?

> A cookie is a small piece of data sent from a web server to a user's browser. The browser stores the cookie and sends it back with each subsequent request to the same server. This allows the server to 
> identify and track users and remember their preferences or other data.
> Cookies are produced by the web server and sent to the client through HTTP headers. When a browser receives a cookie, it stores it locally and includes it in future requests to the same server using the 
> "Cookie" header.

### 7. What is the difference between Session and Cookie?

> **Cookie:**
>
> - Small piece of data stored on the user's browser.
> - Can persist for a specific duration or until the browser is closed.
> - Limited in size.
> - Managed on the client-side.
>
> **Session:**
>
> - Server-side storage for user-specific information.
> - Typically lasts for a user's visit to a website.
> - Can store various types of data.
> - Managed on the server-side, often using cookies to track sessions.

### 8. How do we use session and cookie to keep user information across the the application? 

>### Use Redis as a Shared Cache

### 9. What is JWT?

>JWT stands for JSON Web Token. It is a compact, URL-safe means of representing claims between two parties. A JWT is often used for authentication and authorization purposes in web development. It consists of a JSON object that is encoded in a way that is easy to send between parties, and it can be digitally signed to ensure its integrity.
>
>Here are the key components and features of JWT:
>
>1. **Format:**
>   - JWTs have three parts separated by dots (`.`): Header, Payload, and Signature.
>   - The format looks like: `xxxxx.yyyyy.zzzzz`
>2. **Header:**
>   - The header typically consists of two parts: the type of the token, which is JWT, and the signing algorithm being used, such as HMAC SHA256 or RSA.
>   - Example: `{"alg": "HS256", "typ": "JWT"}`
>3. **Payload:**
>   - The payload contains the claims. Claims are statements about an entity (typically, the user) and additional data.
>   - Common claims include "iss" (issuer), "sub" (subject), "exp" (expiration time), "iat" (issued at time), and custom claims.
>   - Example: `{"sub": "1234567890", "name": "John Doe", "exp": 1516239022}`
>4. **Signature:**
>   - The signature is used to verify that the sender of the JWT is who it says it is and to ensure that the message wasn't changed along the way.
>   - The signature is created by encoding the header and payload, combining them with a secret, and applying a specified signing algorithm.
>   - Example: `HMACSHA256(base64UrlEncode(header) + "." + base64UrlEncode(payload), secret)`

### 10. What is the spring security filter?

> Spring Security provides a set of filters that play a crucial role in securing a Spring-based application. These filters are part of the Spring Security filter chain, which is responsible for handling authentication, authorization, and various security-related tasks. Each filter in the chain performs a specific security function.
>
> Here are some key Spring Security filters and their roles:
>
> 1. **UsernamePasswordAuthenticationFilter:**
>    - Responsible for processing standard form-based login.
>    - Authenticates users based on the provided username and password.
> 2. **BasicAuthenticationFilter:**
>    - Handles basic authentication where the username and password are included in the HTTP Authorization header.
>    - Commonly used for stateless authentication.
> 3. **JwtAuthenticationFilter:**
>    - Processes JSON Web Tokens (JWT) for authentication.
>    - Extracts JWT from the request, validates it, and sets up the security context.
> 4. **CsrfFilter:**
>    - Provides protection against Cross-Site Request Forgery (CSRF) attacks.
>    - Adds a CSRF token to forms and validates the token on form submissions.
> 5. **LogoutFilter:**
>    - Handles the logout process by clearing the security context and invalidating the user's session.
> 6. **SessionManagementFilter:**
>    - Manages the user's session.
>    - Determines how the application should behave if a user has too many sessions or if the session has expired.
> 7. **ExceptionTranslationFilter:**
>    - Handles exceptions thrown by the application related to security.
>    - Translates exceptions into HTTP responses (e.g., redirects to login page for authentication failures).
> 8. **FilterSecurityInterceptor:**
>    - Enforces access control rules.
>    - Determines whether a user is allowed to access a particular resource based on configured security rules.
> 9. **CorsFilter:**
>    - Handles Cross-Origin Resource Sharing (CORS) by adding appropriate headers to responses.
>    - Allows or restricts cross-origin requests based on configuration.
> 10. **HeaderWriterFilter:**
>     - Adds various security-related headers to HTTP responses.
>     - Helps protect against common web vulnerabilities.

### 12. Do you use any Encoder to encode Password?

```java
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;
import org.springframework.security.crypto.password.PasswordEncoder;

@Configuration
public class SecurityConfig {

    @Bean
    public PasswordEncoder passwordEncoder() {
        // Use BCryptPasswordEncoder with strength parameter (e.g., 10)
        return new BCryptPasswordEncoder(10);
    }
}

```

### 14. What is the disadvantage of Session? how to overcome the disadvantage?

> While sessions are a common and convenient way to manage user state in web applications, they come with certain disadvantages. Here are some potential drawbacks of using sessions, along with ways to overcome or mitigate these issues:
>
> ### Disadvantages of Sessions:
>
> 1. **Server-Side Storage:**
>    - Sessions are often stored on the server, which can lead to increased server load and resource consumption, especially in large-scale applications with many concurrent users.
> 2. **Scalability Concerns:**
>    - As the user base grows, managing sessions on a single server can become a scalability bottleneck. It might be challenging to distribute sessions across multiple servers in a clustered environment.
> 3. **Session Expire/Timeout Issues:**
>    - Sessions need to have an expiration time to deal with inactivity or security concerns. However, setting the right timeout value can be challenging. Too short a timeout can result in a poor user experience, while too long a timeout may pose security risks.
> 4. **Storage Capacity:**
>    - Sessions consume server memory, and if not managed properly, they can exhaust the available storage capacity. Large session objects or a high volume of active sessions can impact performance.
> 5. **Stateful Nature:**
>    - Sessions make applications stateful, which may clash with the principles of RESTful design. RESTful architectures typically aim for stateless communication between clients and servers.
>
> ### Ways to Overcome or Mitigate Session Disadvantages:
>
> 1. **Use Token-Based Authentication:**
>    - Instead of relying solely on sessions, consider using token-based authentication (e.g., JWT) for stateless authentication. Tokens can be stored on the client side, reducing the server's load and allowing for easier scalability.
> 2. **Distributed Caching:**
>    - Implement distributed caching mechanisms (e.g., Redis, Memcached) to store and manage session data across multiple servers. This helps distribute the load and enables horizontal scaling.
> 3. **Short-Lived Sessions and Refresh Tokens:**
>    - Keep sessions short-lived and use refresh tokens to extend the session duration. This helps in managing security concerns and ensuring that sessions are still usable.
> 4. **Optimize Session Data:**
>    - Only store essential information in the session. Avoid storing large or unnecessary data. If needed, consider storing larger data in a separate storage system.
> 5. **Stateless Services:**
>    - Design parts of your application to be stateless where possible. Utilize RESTful principles for stateless communication, reducing the reliance on server-side state.
> 6. **Handle Session Expiry Gracefully:**
>    - Implement mechanisms to handle session expiry gracefully on the client side. For example, redirect users to a login page or provide a user-friendly message.
> 7. **Monitor and Tune Session Management:**
>    - Regularly monitor and tune session management parameters, such as session timeout values and memory usage, based on the application's requirements and performance characteristics.
> 8. **Consider Microservices Architecture:**
>    - In a microservices architecture, individual services can manage their own state, reducing the need for a centralized session management system.

### 15. how to get value from application.properties?

```java
//Use @Value
import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Component;

@Component
public class MyComponent {

    @Value("${my.property}")
    private String myProperty;

    public void someMethod() {
        System.out.println("Value from application.properties: " + myProperty);
    }
}

//use Environment
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.annotation.Configuration;
import org.springframework.core.env.Environment;

@Configuration
public class MyConfiguration {

    @Autowired
    private Environment environment;

    public void someMethod() {
        String myProperty = environment.getProperty("my.property");
        System.out.println("Value from application.properties: " + myProperty);
    }
}
// use @ConfigurationProperties
import org.springframework.boot.context.properties.ConfigurationProperties;
import org.springframework.stereotype.Component;

@Component
@ConfigurationProperties(prefix = "my")
public class MyProperties {

    private String property;

    // Getters and setters

    public void someMethod() {
        System.out.println("Value from application.properties: " + property);
    }
}

```

### 16. What is the role of configure(HttpSecurity http) and configure(AuthenticationManagerBuilder auth)?

> The `configure(HttpSecurity http)` method is used to configure security rules related to HTTP requests. It defines how different endpoints or resources in your application should be secured. This method typically includes configurations related to:
>
>  The `configure(AuthenticationManagerBuilder auth)` method is used to configure the authentication mechanism. It defines how user authentication should be performed, including: