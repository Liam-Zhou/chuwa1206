# HW10 (hw43 + 43)

## what is the @configuration and @bean?

`@Configuration` is used to designate a Java class as a configuration class, where defines Spring beans by @bean and their relationships.



## How do you handle the exception in Spring?

ExceptionHandler is a global entrance for the exception within the application. 

``` 
@ControllerAdvice
public class GlobalExceptionHandler {

    @ExceptionHandler(ResourceNotFoundException.class)
    public ResponseEntity<ErrorDetails> handleResourceNotFoundException(Exception e) {
        ...
    }
```

And Spring will choose most specific available handler (search from most specific to most general)



## How do you do the validations in Spring? And list some validation annotaitons you know.
Validation is used to validate if DTO, entity satisfies certain constrains when there classes are defined. If fails, it will throws MethodArgumentNotValidException.

@NotNull
@NotEmpty
@Min(value) @Max(value)
@Size(min = , max = )
@Email
@Pattern(regexp)
@Positive @PositiveOrZero



## What is the actuator, list some endpoints it provides?

monitor and manage your application

endpoints:

/health
/beans
/caches-cache
/caches
/info
/conditions
...



## What is Spring and Springboot? What is the benfits of using Srpingboot?

Spring Framework is a comprehensive and modular framework that provides support for developing Java applications.  Features: Dependency Injection, IOC, Aspect-Oriented Programming

Spring Boot is an extension of the Spring Framework that simplifies and accelerates the development of Java applications, particularly in the context of modern microservices architectures. Its benefits include rapid development, reduced boilerplate code, and built-in features for production-ready applications.



## What is IOC and What is DI?

IOC: Treaditionally, the programmer controls the creation and management of the objects and their dependencies. In contrast, with IoC, this control is inverted, meaning that the framework or container takes responsibility for creating and managing objects.



DI: a specific technique used to achieve Inversion of Control. Instead of an object creating its dependencies, those dependencies are injected from outside by constructor injection, method injection, or setter injection.



## What is @CompnonentScan

When you annotate a configuration class (typically main application class or a class annotated with `@Configuration`) with `@ComponentScan`, you specify a base package or multiple base packages. Spring will scan these packages and its sub-packages for classes annotated with Spring stereotypes like `@Component`, `@Service`, `@Repository`, or `@Controller`.



## How to define which package spring need to scan in xml and annotaiton?

use \<context:component-scan\> to indicate the base packages to scan within \<beans\> block



## What is @SpringbootApplication?

The sum of 

@Configuration, which declares a class as the source for bean definitions
@EnableAutoConfiguration, which allows the application to add beans using classpath definitions
@ComponentScan, which directs Spring to search for components in the path specified



## How many ways wo can define a bean?

- Class Level @Component @Controller ...
- Method leve @Bean
- XML



## What is default bean name for @Component and @Bean?

class name & method name with first letter lowercased.





## What is the difference between @component and @service,@repository?

To Spring, they all function in the same way, that is claiming the class as a spring managed component. The latter two explictly claim the intent of the class.



## How many annotaitons we can use to inject the bean?

- @Autowire
- @Inject
- @Resource



## Tell me the three types to do dependency injection

- Constructor injection
- setter injection
- field injection



## If we have multiple beans for one type, how to set one is primary? and how to let the spring to pick one bean to inject if no primay.

1. @Primary will make Spring pick this bean as default for this type. 
2. If No primary bean, use @Qualifier at both bean definition and injection to specify the name.



## What is the difference between BeanFactory and ApplicationContext in Spring?

BeanFactory provides beans container functionalities.

ApplicationContext provides all the functionalities of beanfactory, plus other key feature of Spring like AOP, DI.



## What is the Scope of a Bean? and list the examples for each scope.

in Singleton scope, only one instance of a bean is created in each IOC container.

in prototype scope, a new instance of the bean every time it's requested.



in web application, there're reqeust, session, application, websocket scope.



## Configure a bean using xml. If bean has parameters/dependencies, how can we configure the bean?

``` java
Constructor injection
    
<!-- Define the Dependency bean -->
<bean id="dependency" class="com.example.Dependency"/>

<!-- Configure the MyBean bean with constructor injection -->
<bean id="myBean" class="com.example.MyBean">
    <constructor-arg ref="dependency"/> <!-- Inject the 'dependency' bean -->
</bean>
    
-------------------
Setter Injection    

<!-- Define the Dependency bean -->
<bean id="dependency" class="com.example.Dependency"/>

<!-- Configure the MyBean bean with setter injection -->
<bean id="myBean" class="com.example.MyBean">
    <property name="dependency" ref="dependency"/> <!-- Inject the 'dependency' bean -->
</bean>
    
    
```

